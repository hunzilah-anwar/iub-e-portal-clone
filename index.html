<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IUB-E-Portal</title>
    <link rel="stylesheet" href="CSS/login.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>

<body>
    <div class="login-page">
        <div class="login-form bg-white p-5 rounded-5">
            <div class="d-flex justify-content-center align-items-center">
                <form class="d-flex justify-content-center align-items-start flex-column" id="form">
                    <div class="logo">
                        <img src="Assets/Images/logo login page.png" alt="">
                        <h3>Login to <strong>IUB E-Portal</strong></h3>
                    </div>
                    <div class="mt-1 mb-2">
                        <a href="https://www.iub.edu.pk/admissions" class="text-decoration-none" target="_blank"
                            style="color: Red; font-size: 14px;">View
                            Admission Advertisement</a>
                    </div>
                    <p class="mb-4 fw-light" style="color: #b3b3b3;">Enter your CNIC / Passport &amp; password to
                        login<br>Don't have an account ? <a class="text-decoration-none"
                            href="https://eportal.iub.edu.pk/applicants/register"
                            style="color:#29377b; font-weight: bold;">Register Here !</a>
                    </p>
                    <div class="row w-75 mb-2">
                        <div class="col-6">
                            <input type="radio" id="radio-cnic" name="idType" checked>
                            <label for="cnic" style="cursor: pointer;">CNIC</label>
                        </div>
                        <div class="col-6">
                            <input type="radio" id="radio-passport" name="idType">
                            <label for="passport" style="cursor: pointer;">#Passport</label>
                        </div>
                    </div>
                    <div class="w-100 mt-1 mb-2" style="color: #666666;">
                        <div>CNIC / B.form / Passport #</div>
                        <input type="text" name="cnic" id="cnic" placeholder="_____-_______-_" maxlength="15" required>
                    </div>
                    <div class="w-100 mt-1 mb-2 password-div" style="color: #666666;">
                        <div>Password</div>
                        <input type="password" name="password" id="password">
                        <button type="button" id="show-password">Show</button>
                    </div>
                    <div class="w-100 text-end">
                        <a href="https://eportal.iub.edu.pk/applicants/forget_password" class="text-decoration-none"
                            style="color: #29377b; font-size: 14px;">Forgot
                            Password ?</a>
                    </div>
                    <button type="submit" class="btn btn-block btn-secondary">Log In</button>
                </form>
            </div>
        </div>
    </div>
    <script>

        const showPassword = document.getElementById("show-password");
        const cnicInput = document.getElementById("cnic");
        const passwordInput = document.getElementById("password");

        cnicInput.addEventListener("input", () => {
            let value = cnicInput.value.replace(/[^0-9]/g, "");
            let formatted = "";

            if (value.length > 0) {
                formatted += value.substring(0, 5);
            }

            if (value.length >= 6) {
                formatted += "-" + value.substring(5, 12);
            }

            if (value.length >= 13) {
                formatted += "-" + value.substring(12, 13);
            }

            cnicInput.value = formatted;
        });

        showPassword.addEventListener("click", () => {
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                showPassword.textContent = "Hide";
            } else {
                passwordInput.type = "password";
                showPassword.textContent = "Show";
            }
        });

        document.getElementById('form').addEventListener('submit', (e) => {
            e.preventDefault();
            const cnic = cnicInput.value.trim();
            const password = passwordInput.value.trim();

            // Empty fields check
            if (cnic === "" || password === "") {
                alert("⚠ All fields are required!");
                return;
            }

            // Password strength check
            if (password.length < 8) {
                alert("⚠ Password must be at least 8 characters!");
                return;
            }

            alert(`✅ Welcome, your form is submitted successfully!`);
            form.reset();
            showPassword.textContent = "Show";
            // Redirect to home page
            window.location.href = "home.html";
        });

    </script>
</body>

</html>